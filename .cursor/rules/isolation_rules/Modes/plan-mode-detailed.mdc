---
description: Zero-cognition PLAN mode for task planning
globs: "**/plan-mode-detailed*/**"
alwaysApply: false
---

# PLAN MODE - 零認知任務規劃

> **零認知原則**: 自動化任務分解，智能計劃生成，隱藏複雜規劃邏輯

```mermaid
graph TD
    Start["📋 PLAN"] --> AutoPlan["⚡ 自動任務規劃"]
    AutoPlan --> Level{"🧩 複雜度級別?"}
    
    Level -->|"Level 2"| L2["🔨 簡單增強規劃"]
    Level -->|"Level 3"| L3["🏗️ 中級功能規劃"]
    Level -->|"Level 4"| L4["🚀 複雜系統規劃"]
    
    L2 --> L2Plan["📝 生成實施計劃"]
    L3 --> L3Plan["📋 生成詳細計劃"]
    L4 --> L4Plan["📊 生成分階段計劃"]
    
    L2Plan --> Creative{"🎨 需要創意階段?"}
    L3Plan --> Creative
    L4Plan --> Creative
    
    Creative -->|"是"| NextCreative["⏭️ → CREATIVE"]
    Creative -->|"否"| NextImplement["⏭️ → IMPLEMENT"]
    
    style Start fill:#4da6ff,stroke:#0066cc,color:white
    style AutoPlan fill:#ffa64d,stroke:#cc7a30,color:white
    style Creative fill:#d971ff,stroke:#a33bc2,color:white
```

## ⚡ 自動化規劃流程

### 🧩 複雜度確定
- **Level 2**: 簡單增強 → 快速計劃生成
- **Level 3**: 中級功能 → 詳細計劃 + 創意標記
- **Level 4**: 複雜系統 → 分階段計劃 + 架構考慮

### 📋 智能計劃生成
- **自動需求分析**: 基於任務描述自動提取需求
- **組件影響評估**: 智能識別受影響的組件
- **依賴關係映射**: 自動建立依賴關係圖
- **風險識別**: 自動標記潛在挑戰

### 🎯 零認知操作
- **計劃模板自動選擇**: 根據複雜度自動選擇模板
- **創意階段自動標記**: 智能識別需要設計決策的組件
- **模式轉換自動判斷**: 基於創意需求自動決定下一模式
- **Graph Bank 自動更新**: 計劃結果自動同步到 Graph Bank

## 📊 智能評估報告

### Level 2 快速計劃
- **概述**: 簡潔的變更描述
- **文件清單**: 需要修改的文件
- **實施步驟**: 清晰的執行順序
- **潛在挑戰**: 識別的風險點
- **測試策略**: 驗證方法

### Level 3-4 詳細計劃
- **需求分析**: 全面的需求理解
- **組件影響**: 受影響的系統組件
- **架構考慮**: 架構層面的影響
- **實施策略**: 高層次的實施方法
- **詳細步驟**: 具體的執行計劃
- **依賴關係**: 依賴和整合點
- **挑戰與緩解**: 風險和解決方案
- **創意組件**: 需要設計決策的組件

## 🎨 創意階段識別

### 自動標記規則
- **架構設計**: 需要架構決策的組件
- **算法設計**: 需要算法優化的組件
- **UI/UX 設計**: 需要用戶體驗設計的組件

### 零認知轉換
- **自動判斷**: 基於組件複雜度自動判斷是否需要創意階段
- **智能路由**: 自動決定下一模式（CREATIVE 或 IMPLEMENT）
- **上下文傳遞**: 自動傳遞規劃上下文到下一模式

## ✅ 自動驗證

### 驗證檢查點
- **需求覆蓋**: 所有需求是否已包含在計劃中
- **創意標記**: 需要創意階段的組件是否已識別
- **步驟清晰**: 實施步驟是否明確定義
- **依賴文檔**: 依賴關係和挑戰是否已記錄

### 成功標準
- **計劃完整性**: 所有必要元素都已包含
- **創意識別**: 需要設計決策的組件已標記
- **實施可行性**: 計劃在技術上可行
- **模式準備**: 下一模式已準備就緒